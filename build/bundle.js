!function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function s(t){let e;return r(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(r(e,n))}function d(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function $(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:n[i]&&n[i].set?t[i]=e[i]:v(t,i,e[i])}function k(t,e,n){t.classList[n?"add":"remove"](e)}let w;function x(t){w=t}function I(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const T=[],E=[],M=[],L=[],_=Promise.resolve();let S=!1;function H(t){M.push(t)}function F(){const t=new Set;do{for(;T.length;){const t=T.shift();x(t),B(t.$$)}for(;E.length;)E.pop()();for(let e=0;e<M.length;e+=1){const n=M[e];t.has(n)||(n(),t.add(n))}M.length=0}while(T.length);for(;L.length;)L.pop()();S=!1}function B(t){null!==t.fragment&&(t.update(),o(t.before_update),t.fragment&&t.fragment.p(t.ctx,t.dirty),t.dirty=[-1],t.after_update.forEach(H))}const O=new Set;let N;function V(){N={r:0,c:[],p:N}}function q(){N.r||o(N.c),N=N.p}function A(t,e){t&&t.i&&(O.delete(t),t.i(e))}function D(t,e,n,i){if(t&&t.o){if(O.has(t))return;O.add(t),N.c.push(()=>{O.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function P(t,e){D(t,1,1,()=>{e.delete(t.key)})}function j(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const c=t[l],r=e[l];if(r){for(const t in c)t in r||(i[t]=1);for(const t in r)o[t]||(n[t]=r[t],o[t]=1);t[l]=r}else for(const t in c)o[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}function C(t){t&&t.c()}function U(t,e,i){const{fragment:c,on_mount:r,on_destroy:s,after_update:u}=t.$$;c&&c.m(e,i),H(()=>{const e=r.map(n).filter(l);s?s.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(H)}function z(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(T.push(t),S||(S=!0,_.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,n,l,c,r,s,u=[-1]){const d=w;x(e);const a=n.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:i(),dirty:u};let p=!1;f.ctx=l?l(e,a,(t,n,i=n)=>(f.ctx&&r(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),p&&K(e,t)),n)):[],f.update(),p=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),n.target&&(n.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):f.fragment&&f.fragment.c(),n.intro&&A(e.$$.fragment),U(e,n.target,n.anchor),F()),x(d)}class J{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const Q=[];function R(e,n=t){let i;const o=[];function l(t){if(c(e,t)&&(e=t,i)){const t=!Q.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Q.push(n,e)}if(t){for(let t=0;t<Q.length;t+=2)Q[t][0](Q[t+1]);Q.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(c,r=t){const s=[c,r];return o.push(s),1===o.length&&(i=n(l)||t),c(e),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}let W;const X=Symbol("debug");function Y(t){return W?t.split(/[{}]/).map((t,e)=>e%2&&W[t]?s(W[t]):t).join(""):t}function Z(t){const e=Y(t);return W[X].placeholdImages?"https://via.placeholder.com/350x200?text="+e:e}function tt(t){let e,n,i;return{c(){e=m("img"),e.src!==(n=Z(t[0].img))&&v(e,"src",n),v(e,"class","Select-ValueImage"),v(e,"alt",i=t[0].text||t[0].value)},m(t,n){a(t,e,n)},p(t,o){1&o&&e.src!==(n=Z(t[0].img))&&v(e,"src",n),1&o&&i!==(i=t[0].text||t[0].value)&&v(e,"alt",i)},d(t){t&&f(e)}}}function et(e){let n,i,o,l,c,r=(e[0].text||e[0].value)+"",s=e[1]&&e[0].img&&tt(e);return{c(){n=m("div"),s&&s.c(),i=h(),o=m("p"),v(o,"class","Select-ValueText"),v(n,"class","Select-Value"),v(n,"data-value",l=e[0].value),k(n,"active",e[2]),c=$(n,"click",e[4](e[0].value))},m(t,e){a(t,n,e),s&&s.m(n,null),d(n,i),d(n,o),o.innerHTML=r},p(t,[e]){t[1]&&t[0].img?s?s.p(t,e):(s=tt(t),s.c(),s.m(n,i)):s&&(s.d(1),s=null),1&e&&r!==(r=(t[0].text||t[0].value)+"")&&(o.innerHTML=r),1&e&&l!==(l=t[0].value)&&v(n,"data-value",l),4&e&&k(n,"active",t[2])},i:t,o:t,d(t){t&&f(n),s&&s.d(),c()}}}function nt(t,e,n){let i,{id:o}=e,{value:l}=e,{showImage:c}=e;const r=W[o];let s;return u(t,r,t=>n(6,i=t)),t.$set=t=>{"id"in t&&n(5,o=t.id),"value"in t&&n(0,l=t.value),"showImage"in t&&n(1,c=t.showImage)},t.$$.update=()=>{65&t.$$.dirty&&n(2,s=i===l.value)},[l,c,s,r,function(t){return()=>r.set(t)},o]}class it extends J{constructor(t){super(),G(this,t,nt,et,c,{id:5,value:0,showImage:1})}}function ot(t,e,n){const i=t.slice();return i[4]=e[n],i}function lt(t){let e,n=t[0].title+"";return{c(){e=m("h2"),v(e,"class","Select-Title")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=t[0].title+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function ct(t){let e,n=Y(t[0].description)+"";return{c(){e=m("p"),v(e,"class","Select-Description")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=Y(t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function rt(t){let e;const n=new it({props:{value:t[4],id:t[0].id,showImage:t[0].showImages}});return{c(){C(n.$$.fragment)},m(t,i){U(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.value=t[4]),1&e&&(i.id=t[0].id),1&e&&(i.showImage=t[0].showImages),n.$set(i)},i(t){e||(A(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function st(t){let e,n,i;return{c(){e=m("img"),e.src!==(n=Z(t[1].img))&&v(e,"src",n),v(e,"class","Select-Image"),v(e,"alt",i=t[1].text||t[1].value)},m(t,n){a(t,e,n)},p(t,o){2&o&&e.src!==(n=Z(t[1].img))&&v(e,"src",n),2&o&&i!==(i=t[1].text||t[1].value)&&v(e,"alt",i)},d(t){t&&f(e)}}}function ut(t){let e,n,i,o,l,c,r,s,u,g=t[0].title&&lt(t),b=t[0].description&&ct(t),$=t[0].values,y=[];for(let e=0;e<$.length;e+=1)y[e]=rt(ot(t,$,e));const k=t=>D(y[t],1,1,()=>{y[t]=null});let w=!t[0].showImages&&t[1]&&t[1].img&&st(t);return{c(){e=m("div"),g&&g.c(),n=h(),b&&b.c(),i=h(),o=m("input"),c=h();for(let t=0;t<y.length;t+=1)y[t].c();r=h(),w&&w.c(),v(o,"type","hidden"),o.value=t[2],v(o,"name",l=t[0].title),v(e,"class","Select"),v(e,"data-id",s=t[0].id)},m(t,l){a(t,e,l),g&&g.m(e,null),d(e,n),b&&b.m(e,null),d(e,i),d(e,o),d(e,c);for(let t=0;t<y.length;t+=1)y[t].m(e,null);d(e,r),w&&w.m(e,null),u=!0},p(t,[c]){if(t[0].title?g?g.p(t,c):(g=lt(t),g.c(),g.m(e,n)):g&&(g.d(1),g=null),t[0].description?b?b.p(t,c):(b=ct(t),b.c(),b.m(e,i)):b&&(b.d(1),b=null),(!u||4&c)&&(o.value=t[2]),(!u||1&c&&l!==(l=t[0].title))&&v(o,"name",l),1&c){let n;for($=t[0].values,n=0;n<$.length;n+=1){const i=ot(t,$,n);y[n]?(y[n].p(i,c),A(y[n],1)):(y[n]=rt(i),y[n].c(),A(y[n],1),y[n].m(e,r))}for(V(),n=$.length;n<y.length;n+=1)k(n);q()}!t[0].showImages&&t[1]&&t[1].img?w?w.p(t,c):(w=st(t),w.c(),w.m(e,null)):w&&(w.d(1),w=null),(!u||1&c&&s!==(s=t[0].id))&&v(e,"data-id",s)},i(t){if(!u){for(let t=0;t<$.length;t+=1)A(y[t]);u=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)D(y[t]);u=!1},d(t){t&&f(e),g&&g.d(),b&&b.d(),p(y,t),w&&w.d()}}}function dt(t,e,n){let i,{block:o}=e;const l=W[o.id];let c;return u(t,l,t=>n(2,i=t)),t.$set=t=>{"block"in t&&n(0,o=t.block)},t.$$.update=()=>{5&t.$$.dirty&&n(1,c=o.values.find(t=>t.value===i))},[o,c,i,l]}class at extends J{constructor(t){super(),G(this,t,dt,ut,c,{block:0})}}function ft(t){let e,n=Y(t[0].title)+"";return{c(){e=m("label"),v(e,"for","name"),v(e,"class","Fields-InputLabel")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=Y(t[0].title)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function pt(n){let i,o,l,c,r,s=n[0].title&&ft(n),u=[n[0].attributes,{class:"Fields-InputField"},{name:n[2]},{value:n[1]}],p={};for(let t=0;t<u.length;t+=1)p=e(p,u[t]);return{c(){i=m("div"),s&&s.c(),o=h(),l=m("input"),y(l,p),v(i,"class","Fields-Input"),v(i,"data-id",c=n[0].id),r=$(l,"input",n[3])},m(t,e){a(t,i,e),s&&s.m(i,null),d(i,o),d(i,l)},p(t,[e]){t[0].title?s?s.p(t,e):(s=ft(t),s.c(),s.m(i,o)):s&&(s.d(1),s=null),y(l,j(u,[1&e&&t[0].attributes,{class:"Fields-InputField"},4&e&&{name:t[2]},2&e&&{value:t[1]}])),1&e&&c!==(c=t[0].id)&&v(i,"data-id",c)},i:t,o:t,d(t){t&&f(i),s&&s.d(),r()}}}function mt(t,e,n){let i,{blockId:o}=e,{field:l}=e;const c=`${o}-${l.id}`;return u(t,W[o+"."+l.id],t=>n(1,i=t)),t.$set=t=>{"blockId"in t&&n(4,o=t.blockId),"field"in t&&n(0,l=t.field)},[l,i,c,function(t){W[o+"."+l.id].set(t.target.value)},o]}class gt extends J{constructor(t){super(),G(this,t,mt,pt,c,{blockId:4,field:0})}}function ht(t,e,n){const i=t.slice();return i[1]=e[n],i}function bt(t){let e,n=t[0].title+"";return{c(){e=m("h2"),v(e,"class","Fields-Title")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=t[0].title+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function $t(t){let e,n=Y(t[0].description)+"";return{c(){e=m("p"),v(e,"class","Fields-Description")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=Y(t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function vt(t){let e;const n=new gt({props:{blockId:t[0].id,field:t[1]}});return{c(){C(n.$$.fragment)},m(t,i){U(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.blockId=t[0].id),1&e&&(i.field=t[1]),n.$set(i)},i(t){e||(A(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function yt(t){let e,n,i,o,l,c=t[0].title&&bt(t),r=t[0].description&&$t(t),s=t[0].fields,u=[];for(let e=0;e<s.length;e+=1)u[e]=vt(ht(t,s,e));const g=t=>D(u[t],1,1,()=>{u[t]=null});return{c(){e=m("div"),c&&c.c(),n=h(),r&&r.c(),i=h();for(let t=0;t<u.length;t+=1)u[t].c();v(e,"class","Fields"),v(e,"data-id",o=t[0].id)},m(t,o){a(t,e,o),c&&c.m(e,null),d(e,n),r&&r.m(e,null),d(e,i);for(let t=0;t<u.length;t+=1)u[t].m(e,null);l=!0},p(t,[d]){if(t[0].title?c?c.p(t,d):(c=bt(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),t[0].description?r?r.p(t,d):(r=$t(t),r.c(),r.m(e,i)):r&&(r.d(1),r=null),1&d){let n;for(s=t[0].fields,n=0;n<s.length;n+=1){const i=ht(t,s,n);u[n]?(u[n].p(i,d),A(u[n],1)):(u[n]=vt(i),u[n].c(),A(u[n],1),u[n].m(e,null))}for(V(),n=s.length;n<u.length;n+=1)g(n);q()}(!l||1&d&&o!==(o=t[0].id))&&v(e,"data-id",o)},i(t){if(!l){for(let t=0;t<s.length;t+=1)A(u[t]);l=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)D(u[t]);l=!1},d(t){t&&f(e),c&&c.d(),r&&r.d(),p(u,t)}}}function kt(t,e,n){let{block:i}=e;return t.$set=t=>{"block"in t&&n(0,i=t.block)},[i]}class wt extends J{constructor(t){super(),G(this,t,kt,yt,c,{block:0})}}function xt(t){let e,n=t[0].title+"";return{c(){e=m("h2"),v(e,"class","Image-Title")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=t[0].title+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function It(t){let e,n=Y(t[0].description)+"";return{c(){e=m("p"),v(e,"class","Image-Description")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=Y(t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function Tt(n){let i,o,l,c,r,s=n[0].title&&xt(n),u=n[0].description&&It(n),p=[{src:n[1]},{class:"Image-Pic"},{alt:n[0].alt||n[1]},n[0].attributes],g={};for(let t=0;t<p.length;t+=1)g=e(g,p[t]);return{c(){i=m("div"),s&&s.c(),o=h(),u&&u.c(),l=h(),c=m("img"),y(c,g),v(i,"class","Image"),v(i,"data-id",r=n[0].id)},m(t,e){a(t,i,e),s&&s.m(i,null),d(i,o),u&&u.m(i,null),d(i,l),d(i,c)},p(t,[e]){t[0].title?s?s.p(t,e):(s=xt(t),s.c(),s.m(i,o)):s&&(s.d(1),s=null),t[0].description?u?u.p(t,e):(u=It(t),u.c(),u.m(i,l)):u&&(u.d(1),u=null),y(c,j(p,[2&e&&{src:t[1]},{class:"Image-Pic"},3&e&&{alt:t[0].alt||t[1]},1&e&&t[0].attributes])),1&e&&r!==(r=t[0].id)&&v(i,"data-id",r)},i:t,o:t,d(t){t&&f(i),s&&s.d(),u&&u.d()}}}function Et(t,e,n){let i,{block:o}=e;return t.$set=t=>{"block"in t&&n(0,o=t.block)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i=Z(o.img))},[o,i]}class Mt extends J{constructor(t){super(),G(this,t,Et,Tt,c,{block:0})}}function Lt(t,e,n){const i=t.slice();return i[8]=e[n],i}function _t(t){let e;const n=new at({props:{block:t[8]}});return{c(){C(n.$$.fragment)},m(t,i){U(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.block=t[8]),n.$set(i)},i(t){e||(A(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function St(t){let e;const n=new wt({props:{block:t[8]}});return{c(){C(n.$$.fragment)},m(t,i){U(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.block=t[8]),n.$set(i)},i(t){e||(A(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function Ht(t){let e;const n=new Mt({props:{block:t[8]}});return{c(){C(n.$$.fragment)},m(t,i){U(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.block=t[8]),n.$set(i)},i(t){e||(A(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function Ft(t,e){let n,i,o,l,c,r="select"===e[8].type&&_t(e),s="fields"===e[8].type&&St(e),u="image"===e[8].type&&Ht(e);return{key:t,first:null,c(){n=b(),r&&r.c(),i=h(),s&&s.c(),o=h(),u&&u.c(),l=b(),this.first=n},m(t,e){a(t,n,e),r&&r.m(t,e),a(t,i,e),s&&s.m(t,e),a(t,o,e),u&&u.m(t,e),a(t,l,e),c=!0},p(t,e){"select"===t[8].type?r?(r.p(t,e),A(r,1)):(r=_t(t),r.c(),A(r,1),r.m(i.parentNode,i)):r&&(V(),D(r,1,1,()=>{r=null}),q()),"fields"===t[8].type?s?(s.p(t,e),A(s,1)):(s=St(t),s.c(),A(s,1),s.m(o.parentNode,o)):s&&(V(),D(s,1,1,()=>{s=null}),q()),"image"===t[8].type?u?(u.p(t,e),A(u,1)):(u=Ht(t),u.c(),A(u,1),u.m(l.parentNode,l)):u&&(V(),D(u,1,1,()=>{u=null}),q())},i(t){c||(A(r),A(s),A(u),c=!0)},o(t){D(r),D(s),D(u),c=!1},d(t){t&&f(n),r&&r.d(t),t&&f(i),s&&s.d(t),t&&f(o),u&&u.d(t),t&&f(l)}}}function Bt(t){let e,n,i,o,l,c,r,s,u=[],p=new Map,b=(t[0].saveButtonText||"")+"",y=t[2];const k=t=>t[8].id;for(let e=0;e<y.length;e+=1){let n=Lt(t,y,e),i=k(n);p.set(i,u[e]=Ft(i,n))}return{c(){e=m("form");for(let t=0;t<u.length;t+=1)u[t].c();n=h(),i=m("div"),o=m("button"),l=g(b),v(o,"type","submit"),v(o,"class","Submit-Button"),v(i,"class","Submit"),v(e,"action",c=t[0].action),v(e,"method","POST"),v(e,"class","Konstruct"),s=$(e,"submit",t[3])},m(c,s){a(c,e,s);for(let t=0;t<u.length;t+=1)u[t].m(e,null);d(e,n),d(e,i),d(i,o),d(o,l),t[7](e),r=!0},p(t,[i]){const o=t[2];V(),u=function(t,e,n,i,o,l,c,r,s,u,d,a){let f=t.length,p=l.length,m=f;const g={};for(;m--;)g[t[m].key]=m;const h=[],b=new Map,$=new Map;for(m=p;m--;){const t=a(o,l,m),r=n(t);let s=c.get(r);s?i&&s.p(t,e):(s=u(r,t),s.c()),b.set(r,h[m]=s),r in g&&$.set(r,Math.abs(m-g[r]))}const v=new Set,y=new Set;function k(t){A(t,1),t.m(r,d),c.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=h[p-1],n=t[f-1],i=e.key,o=n.key;e===n?(d=e.first,f--,p--):b.has(o)?!c.has(i)||v.has(i)?k(e):y.has(o)?f--:$.get(i)>$.get(o)?(y.add(i),k(e)):(v.add(o),f--):(s(n,c),f--)}for(;f--;){const e=t[f];b.has(e.key)||s(e,c)}for(;p;)k(h[p-1]);return h}(u,i,k,1,t,o,p,e,P,Ft,n,Lt),q(),(!r||1&i)&&b!==(b=(t[0].saveButtonText||"")+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(l,b),(!r||1&i&&c!==(c=t[0].action))&&v(e,"action",c)},i(t){if(!r){for(let t=0;t<y.length;t+=1)A(u[t]);r=!0}},o(t){for(let t=0;t<u.length;t+=1)D(u[t]);r=!1},d(n){n&&f(e);for(let t=0;t<u.length;t+=1)u[t].d();t[7](null),s()}}}function Ot(t,e,n){let i,o,{config:l}=e;function c(t){return()=>{r(),u("update",{blockId:t.id,blockType:t.type})}}function r(){W&&n(2,o=l.blocks.filter(t=>!t.conditions||t.conditions.reduce((t,e)=>s(W[e.id])===e.value&&t,!0)))}function u(t,e={}){i&&i.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}return function(t,e){W=t.blocks.reduce((n,i)=>("select"===i.type&&(n[i.id]=R(i.values[0].value),n[i.id].subscribe(e(i)),t.debug&&t.debug.logUpdates&&n[i.id].subscribe(t=>console.log(i.id+": "+t))),"fields"===i.type&&i.fields.forEach(o=>{const l=i.id+"."+o.id;n[l]=R(o.attributes&&o.attributes.value||""),n[l].subscribe(e(i)),t.debug&&t.debug.logUpdates&&n[l].subscribe(t=>console.log(l+": "+t))}),n),{}),W[X]=t.debug||{},W.getValues=function(t){return t.reduce((t,e)=>{if("select"===e.type){const n=s(W[e.id]),i=e.values.find(t=>t.value===n);t[e.title]=i.text||i.value}return"fields"===e.type&&(t[e.title]={},e.fields.forEach(n=>{t[e.title][n.title]=s(W[e.id+"."+n.id])})),t},{})}}(l,c),I((function(){r(),u("init")})),t.$set=t=>{"config"in t&&n(0,l=t.config)},n(2,o=[]),[l,i,o,function(t){l.onSubmit&&(t.preventDefault(),this.checkValidity()?l.onSubmit(W.getValues(o)):this.reportValidity())},c,r,u,function(t){E[t?"unshift":"push"](()=>{n(1,i=t)})}]}class Nt extends J{constructor(t){super(),G(this,t,Ot,Bt,c,{config:0})}}const Vt=["fields","select","image"];function qt(t,e,n){if(!Vt.includes(t.type))throw new Error("Only expected blocks must be present. Unexpected block has type "+t.type);if(!t.id)throw new Error("All blocks must have ids. Block with index "+e+" dont has it");if("string"!=typeof t.id)throw new Error("Block id must be a string");if(t.id.indexOf(".")>=0)throw new Error("Block id must not include dot (.)");try{At(t,e,n)}catch(t){throw new Error("Blocks ids must be unique. Not unique id: "+t.message)}if("fields"===t.type)try{t.fields.forEach(At)}catch(t){throw new Error("Fields ids must be unique. Not unique id: "+t.message)}}function At(t,e,n){if(n.slice(e+1).some(({id:e})=>e===t.id))throw new Error(t.id)}window.konstruct={render(t,e){const n=document.querySelector(t);if(!n)throw new Error(`Element ${t} not present in DOM`);!function(t){t.blocks.forEach(qt)}(e),new Nt({target:n,props:{config:e}})}}}();
//# sourceMappingURL=bundle.js.map
