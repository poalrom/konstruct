!function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function s(t){let e;return r(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(r(e,n))}function d(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function $(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:n[i]&&n[i].set?t[i]=e[i]:v(t,i,e[i])}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e,n){t.classList[n?"add":"remove"](e)}let x;function T(t){x=t}function I(){if(!x)throw new Error("Function called outside component initialization");return x}function E(){const t=I();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach(e=>{e.call(t,o)})}}}const S=[],M=[],L=[],_=[],H=Promise.resolve();let B=!1;function F(t){L.push(t)}function N(){const t=new Set;do{for(;S.length;){const t=S.shift();T(t),O(t.$$)}for(;M.length;)M.pop()();for(let e=0;e<L.length;e+=1){const n=L[e];t.has(n)||(n(),t.add(n))}L.length=0}while(S.length);for(;_.length;)_.pop()();B=!1}function O(t){null!==t.fragment&&(t.update(),o(t.before_update),t.fragment&&t.fragment.p(t.ctx,t.dirty),t.dirty=[-1],t.after_update.forEach(F))}const V=new Set;let q;function A(){q={r:0,c:[],p:q}}function D(){q.r||o(q.c),q=q.p}function C(t,e){t&&t.i&&(V.delete(t),t.i(e))}function P(t,e,n,i){if(t&&t.o){if(V.has(t))return;V.add(t),q.c.push(()=>{V.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function j(t,e){P(t,1,1,()=>{e.delete(t.key)})}function U(t,e){const n={},i={},o={$$scope:1};let c=t.length;for(;c--;){const l=t[c],r=e[c];if(r){for(const t in l)t in r||(i[t]=1);for(const t in r)o[t]||(n[t]=r[t],o[t]=1);t[c]=r}else for(const t in l)o[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}function z(t){t&&t.c()}function K(t,e,i){const{fragment:l,on_mount:r,on_destroy:s,after_update:u}=t.$$;l&&l.m(e,i),F(()=>{const e=r.map(n).filter(c);s?s.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(F)}function G(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(S.push(t),B||(B=!0,H.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,n,c,l,r,s,u=[-1]){const d=x;T(e);const a=n.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:i(),dirty:u};let p=!1;f.ctx=c?c(e,a,(t,n,i=n)=>(f.ctx&&r(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),p&&J(e,t)),n)):[],f.update(),p=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),n.target&&(n.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):f.fragment&&f.fragment.c(),n.intro&&C(e.$$.fragment),K(e,n.target,n.anchor),N()),T(d)}class R{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const W=[];function X(e,n=t){let i;const o=[];function c(t){if(l(e,t)&&(e=t,i)){const t=!W.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),W.push(n,e)}if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,r=t){const s=[l,r];return o.push(s),1===o.length&&(i=n(c)||t),l(e),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}let Y;const Z=Symbol("debug");function tt(t){return Y?t.split(/[{}]/).map((t,e)=>e%2&&Y[t]?s(Y[t]):t).join(""):t}function et(t){const e=tt(t);return Y[Z].placeholdImages?"https://via.placeholder.com/350x200?text="+e:e}function nt(t){let e,n,i;return{c(){e=m("img"),e.src!==(n=et(t[0].img))&&v(e,"src",n),v(e,"class","Select-ValueImage"),v(e,"alt",i=t[0].text||t[0].value)},m(t,n){a(t,e,n)},p(t,o){1&o&&e.src!==(n=et(t[0].img))&&v(e,"src",n),1&o&&i!==(i=t[0].text||t[0].value)&&v(e,"alt",i)},d(t){t&&f(e)}}}function it(e){let n,i,o,c,l,r=(e[0].text||e[0].value)+"",s=e[1]&&e[0].img&&nt(e);return{c(){n=m("div"),s&&s.c(),i=h(),o=m("p"),v(o,"class","Select-ValueText"),v(n,"class","Select-Value"),v(n,"data-value",c=e[0].value),w(n,"active",e[2]),l=$(n,"click",e[4](e[0].value))},m(t,e){a(t,n,e),s&&s.m(n,null),d(n,i),d(n,o),o.innerHTML=r},p(t,[e]){t[1]&&t[0].img?s?s.p(t,e):(s=nt(t),s.c(),s.m(n,i)):s&&(s.d(1),s=null),1&e&&r!==(r=(t[0].text||t[0].value)+"")&&(o.innerHTML=r),1&e&&c!==(c=t[0].value)&&v(n,"data-value",c),4&e&&w(n,"active",t[2])},i:t,o:t,d(t){t&&f(n),s&&s.d(),l()}}}function ot(t,e,n){let i,{id:o}=e,{value:c}=e,{showImage:l}=e;const r=Y[o];let s;return u(t,r,t=>n(6,i=t)),t.$set=t=>{"id"in t&&n(5,o=t.id),"value"in t&&n(0,c=t.value),"showImage"in t&&n(1,l=t.showImage)},t.$$.update=()=>{65&t.$$.dirty&&n(2,s=i===c.value)},[c,l,s,r,function(t){return()=>r.set(t)},o]}class ct extends R{constructor(t){super(),Q(this,t,ot,it,l,{id:5,value:0,showImage:1})}}function lt(t,e,n){const i=t.slice();return i[4]=e[n],i}function rt(t){let e,n=t[0].title+"";return{c(){e=m("h2"),v(e,"class","Select-Title")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=t[0].title+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function st(t){let e,n=tt(t[0].description)+"";return{c(){e=m("p"),v(e,"class","Select-Description")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=tt(t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function ut(t){let e;const n=new ct({props:{value:t[4],id:t[0].id,showImage:t[0].showImages}});return{c(){z(n.$$.fragment)},m(t,i){K(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.value=t[4]),1&e&&(i.id=t[0].id),1&e&&(i.showImage=t[0].showImages),n.$set(i)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function dt(t){let e,n,i;return{c(){e=m("img"),e.src!==(n=et(t[1].img))&&v(e,"src",n),v(e,"class","Select-Image"),v(e,"alt",i=t[1].text||t[1].value)},m(t,n){a(t,e,n)},p(t,o){2&o&&e.src!==(n=et(t[1].img))&&v(e,"src",n),2&o&&i!==(i=t[1].text||t[1].value)&&v(e,"alt",i)},d(t){t&&f(e)}}}function at(t){let e,n,i,o,c,l,r,s,u,g=t[0].title&&rt(t),b=t[0].description&&st(t),$=t[0].values,y=[];for(let e=0;e<$.length;e+=1)y[e]=ut(lt(t,$,e));const k=t=>P(y[t],1,1,()=>{y[t]=null});let w=!t[0].showImages&&t[1]&&t[1].img&&dt(t);return{c(){e=m("div"),g&&g.c(),n=h(),b&&b.c(),i=h(),o=m("input"),l=h();for(let t=0;t<y.length;t+=1)y[t].c();r=h(),w&&w.c(),v(o,"type","hidden"),o.value=t[2],v(o,"name",c=t[0].title),v(e,"class","Select"),v(e,"data-id",s=t[0].id)},m(t,c){a(t,e,c),g&&g.m(e,null),d(e,n),b&&b.m(e,null),d(e,i),d(e,o),d(e,l);for(let t=0;t<y.length;t+=1)y[t].m(e,null);d(e,r),w&&w.m(e,null),u=!0},p(t,[l]){if(t[0].title?g?g.p(t,l):(g=rt(t),g.c(),g.m(e,n)):g&&(g.d(1),g=null),t[0].description?b?b.p(t,l):(b=st(t),b.c(),b.m(e,i)):b&&(b.d(1),b=null),(!u||4&l)&&(o.value=t[2]),(!u||1&l&&c!==(c=t[0].title))&&v(o,"name",c),1&l){let n;for($=t[0].values,n=0;n<$.length;n+=1){const i=lt(t,$,n);y[n]?(y[n].p(i,l),C(y[n],1)):(y[n]=ut(i),y[n].c(),C(y[n],1),y[n].m(e,r))}for(A(),n=$.length;n<y.length;n+=1)k(n);D()}!t[0].showImages&&t[1]&&t[1].img?w?w.p(t,l):(w=dt(t),w.c(),w.m(e,null)):w&&(w.d(1),w=null),(!u||1&l&&s!==(s=t[0].id))&&v(e,"data-id",s)},i(t){if(!u){for(let t=0;t<$.length;t+=1)C(y[t]);u=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)P(y[t]);u=!1},d(t){t&&f(e),g&&g.d(),b&&b.d(),p(y,t),w&&w.d()}}}function ft(t,e,n){let i,{block:o}=e;const c=Y[o.id];let l;return u(t,c,t=>n(2,i=t)),t.$set=t=>{"block"in t&&n(0,o=t.block)},t.$$.update=()=>{5&t.$$.dirty&&n(1,l=o.values.find(t=>t.value===i))},[o,l,i,c]}class pt extends R{constructor(t){super(),Q(this,t,ft,at,l,{block:0})}}function mt(t){let e,n=tt(t[0].title)+"";return{c(){e=m("label"),v(e,"for","name"),v(e,"class","Fields-InputLabel")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=tt(t[0].title)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function gt(n){let i,o,c,l,r,s=n[0].title&&mt(n),u=[n[0].attributes,{class:"Fields-InputField"},{name:n[2]},{value:n[1]}],p={};for(let t=0;t<u.length;t+=1)p=e(p,u[t]);return{c(){i=m("div"),s&&s.c(),o=h(),c=m("input"),y(c,p),v(i,"class","Fields-Input"),v(i,"data-id",l=n[0].id),r=$(c,"input",n[3])},m(t,e){a(t,i,e),s&&s.m(i,null),d(i,o),d(i,c)},p(t,[e]){t[0].title?s?s.p(t,e):(s=mt(t),s.c(),s.m(i,o)):s&&(s.d(1),s=null),y(c,U(u,[1&e&&t[0].attributes,{class:"Fields-InputField"},4&e&&{name:t[2]},2&e&&{value:t[1]}])),1&e&&l!==(l=t[0].id)&&v(i,"data-id",l)},i:t,o:t,d(t){t&&f(i),s&&s.d(),r()}}}function ht(t,e,n){let i,{blockId:o}=e,{field:c}=e;const l=`${o}-${c.id}`;return u(t,Y[o+"."+c.id],t=>n(1,i=t)),t.$set=t=>{"blockId"in t&&n(4,o=t.blockId),"field"in t&&n(0,c=t.field)},[c,i,l,function(t){Y[o+"."+c.id].set(t.target.value)},o]}class bt extends R{constructor(t){super(),Q(this,t,ht,gt,l,{blockId:4,field:0})}}function $t(t,e,n){const i=t.slice();return i[3]=e[n],i}function vt(t){let e,n=t[0].title+"";return{c(){e=m("h2"),v(e,"class","Fields-Title")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=t[0].title+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function yt(t){let e,n=tt(t[0].description)+"";return{c(){e=m("p"),v(e,"class","Fields-Description")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=tt(t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function kt(t){let e;const n=new bt({props:{blockId:t[0].id,field:t[3]}});return{c(){z(n.$$.fragment)},m(t,i){K(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.blockId=t[0].id),1&e&&(i.field=t[3]),n.$set(i)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function wt(t){let e,n,i,o=t[0].nextStepButtonText+"";return{c(){e=m("button"),n=g(o),v(e,"type","button"),v(e,"class","Fields-NextStepButton"),i=$(e,"click",t[2])},m(t,i){a(t,e,i),d(e,n)},p(t,e){1&e&&o!==(o=t[0].nextStepButtonText+"")&&k(n,o)},d(t){t&&f(e),i()}}}function xt(t){let e,n,i,o,c,l,r=t[0].title&&vt(t),s=t[0].description&&yt(t),u=t[0].fields,g=[];for(let e=0;e<u.length;e+=1)g[e]=kt($t(t,u,e));const b=t=>P(g[t],1,1,()=>{g[t]=null});let $=t[0].nextStepButtonText&&wt(t);return{c(){e=m("div"),r&&r.c(),n=h(),s&&s.c(),i=h();for(let t=0;t<g.length;t+=1)g[t].c();o=h(),$&&$.c(),v(e,"class","Fields"),v(e,"data-id",c=t[0].id)},m(t,c){a(t,e,c),r&&r.m(e,null),d(e,n),s&&s.m(e,null),d(e,i);for(let t=0;t<g.length;t+=1)g[t].m(e,null);d(e,o),$&&$.m(e,null),l=!0},p(t,[d]){if(t[0].title?r?r.p(t,d):(r=vt(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[0].description?s?s.p(t,d):(s=yt(t),s.c(),s.m(e,i)):s&&(s.d(1),s=null),1&d){let n;for(u=t[0].fields,n=0;n<u.length;n+=1){const i=$t(t,u,n);g[n]?(g[n].p(i,d),C(g[n],1)):(g[n]=kt(i),g[n].c(),C(g[n],1),g[n].m(e,o))}for(A(),n=u.length;n<g.length;n+=1)b(n);D()}t[0].nextStepButtonText?$?$.p(t,d):($=wt(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),(!l||1&d&&c!==(c=t[0].id))&&v(e,"data-id",c)},i(t){if(!l){for(let t=0;t<u.length;t+=1)C(g[t]);l=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)P(g[t]);l=!1},d(t){t&&f(e),r&&r.d(),s&&s.d(),p(g,t),$&&$.d()}}}function Tt(t,e,n){const i=E();let{block:o}=e;return t.$set=t=>{"block"in t&&n(0,o=t.block)},[o,i,()=>i("update")]}class It extends R{constructor(t){super(),Q(this,t,Tt,xt,l,{block:0})}}function Et(t){let e,n=t[0].title+"";return{c(){e=m("h2"),v(e,"class","Image-Title")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=t[0].title+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function St(t){let e,n=tt(t[0].description)+"";return{c(){e=m("p"),v(e,"class","Image-Description")},m(t,i){a(t,e,i),e.innerHTML=n},p(t,i){1&i&&n!==(n=tt(t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function Mt(n){let i,o,c,l,r,s=n[0].title&&Et(n),u=n[0].description&&St(n),p=[{src:n[1]},{class:"Image-Pic"},{alt:n[0].alt||n[1]},n[0].attributes],g={};for(let t=0;t<p.length;t+=1)g=e(g,p[t]);return{c(){i=m("div"),s&&s.c(),o=h(),u&&u.c(),c=h(),l=m("img"),y(l,g),v(i,"class","Image"),v(i,"data-id",r=n[0].id)},m(t,e){a(t,i,e),s&&s.m(i,null),d(i,o),u&&u.m(i,null),d(i,c),d(i,l)},p(t,[e]){t[0].title?s?s.p(t,e):(s=Et(t),s.c(),s.m(i,o)):s&&(s.d(1),s=null),t[0].description?u?u.p(t,e):(u=St(t),u.c(),u.m(i,c)):u&&(u.d(1),u=null),y(l,U(p,[2&e&&{src:t[1]},{class:"Image-Pic"},3&e&&{alt:t[0].alt||t[1]},1&e&&t[0].attributes])),1&e&&r!==(r=t[0].id)&&v(i,"data-id",r)},i:t,o:t,d(t){t&&f(i),s&&s.d(),u&&u.d()}}}function Lt(t,e,n){let i,{block:o}=e;return t.$set=t=>{"block"in t&&n(0,o=t.block)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i=et(o.img))},[o,i]}class _t extends R{constructor(t){super(),Q(this,t,Lt,Mt,l,{block:0})}}function Ht(t,e,n){const i=t.slice();return i[8]=e[n],i}function Bt(t){let e;const n=new pt({props:{block:t[8]}});return{c(){z(n.$$.fragment)},m(t,i){K(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.block=t[8]),n.$set(i)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function Ft(t){let e;const n=new It({props:{block:t[8]}});return n.$on("update",(function(){t[4](t[8]).apply(this,arguments)})),{c(){z(n.$$.fragment)},m(t,i){K(n,t,i),e=!0},p(e,i){t=e;const o={};4&i&&(o.block=t[8]),n.$set(o)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function Nt(t){let e;const n=new _t({props:{block:t[8]}});return{c(){z(n.$$.fragment)},m(t,i){K(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.block=t[8]),n.$set(i)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function Ot(t,e){let n,i,o,c,l,r="select"===e[8].type&&Bt(e),s="fields"===e[8].type&&Ft(e),u="image"===e[8].type&&Nt(e);return{key:t,first:null,c(){n=b(),r&&r.c(),i=h(),s&&s.c(),o=h(),u&&u.c(),c=b(),this.first=n},m(t,e){a(t,n,e),r&&r.m(t,e),a(t,i,e),s&&s.m(t,e),a(t,o,e),u&&u.m(t,e),a(t,c,e),l=!0},p(t,e){"select"===t[8].type?r?(r.p(t,e),C(r,1)):(r=Bt(t),r.c(),C(r,1),r.m(i.parentNode,i)):r&&(A(),P(r,1,1,()=>{r=null}),D()),"fields"===t[8].type?s?(s.p(t,e),C(s,1)):(s=Ft(t),s.c(),C(s,1),s.m(o.parentNode,o)):s&&(A(),P(s,1,1,()=>{s=null}),D()),"image"===t[8].type?u?(u.p(t,e),C(u,1)):(u=Nt(t),u.c(),C(u,1),u.m(c.parentNode,c)):u&&(A(),P(u,1,1,()=>{u=null}),D())},i(t){l||(C(r),C(s),C(u),l=!0)},o(t){P(r),P(s),P(u),l=!1},d(t){t&&f(n),r&&r.d(t),t&&f(i),s&&s.d(t),t&&f(o),u&&u.d(t),t&&f(c)}}}function Vt(t){let e,n,i,o,c,l,r,s,u=[],p=new Map,b=(t[0].saveButtonText||"")+"",y=t[2];const w=t=>t[8].id;for(let e=0;e<y.length;e+=1){let n=Ht(t,y,e),i=w(n);p.set(i,u[e]=Ot(i,n))}return{c(){e=m("form");for(let t=0;t<u.length;t+=1)u[t].c();n=h(),i=m("div"),o=m("button"),c=g(b),v(o,"type","submit"),v(o,"class","Submit-Button"),v(i,"class","Submit"),v(e,"action",l=t[0].action),v(e,"method","POST"),v(e,"class","Konstruct"),s=$(e,"submit",t[3])},m(l,s){a(l,e,s);for(let t=0;t<u.length;t+=1)u[t].m(e,null);d(e,n),d(e,i),d(i,o),d(o,c),t[7](e),r=!0},p(t,[i]){const o=t[2];A(),u=function(t,e,n,i,o,c,l,r,s,u,d,a){let f=t.length,p=c.length,m=f;const g={};for(;m--;)g[t[m].key]=m;const h=[],b=new Map,$=new Map;for(m=p;m--;){const t=a(o,c,m),r=n(t);let s=l.get(r);s?i&&s.p(t,e):(s=u(r,t),s.c()),b.set(r,h[m]=s),r in g&&$.set(r,Math.abs(m-g[r]))}const v=new Set,y=new Set;function k(t){C(t,1),t.m(r,d),l.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=h[p-1],n=t[f-1],i=e.key,o=n.key;e===n?(d=e.first,f--,p--):b.has(o)?!l.has(i)||v.has(i)?k(e):y.has(o)?f--:$.get(i)>$.get(o)?(y.add(i),k(e)):(v.add(o),f--):(s(n,l),f--)}for(;f--;){const e=t[f];b.has(e.key)||s(e,l)}for(;p;)k(h[p-1]);return h}(u,i,w,1,t,o,p,e,j,Ot,n,Ht),D(),(!r||1&i)&&b!==(b=(t[0].saveButtonText||"")+"")&&k(c,b),(!r||1&i&&l!==(l=t[0].action))&&v(e,"action",l)},i(t){if(!r){for(let t=0;t<y.length;t+=1)C(u[t]);r=!0}},o(t){for(let t=0;t<u.length;t+=1)P(u[t]);r=!1},d(n){n&&f(e);for(let t=0;t<u.length;t+=1)u[t].d();t[7](null),s()}}}function qt(t,e,n){let i,{config:o}=e;function c(t,e){return()=>{l(),r("update",{blockId:t.id,blockType:t.type,path:e})}}function l(){Y&&n(2,d=o.blocks.filter(t=>!t.conditions||t.conditions.reduce((t,e)=>s(Y[e.id])===e.value&&t,!0)))}function r(t,e={}){i&&i.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}var u;let d;return function(t,e){Y=t.blocks.reduce((n,i)=>("select"===i.type&&(n[i.id]=X(i.values[0].value),n[i.id].subscribe(e(i)),t.debug&&t.debug.logUpdates&&n[i.id].subscribe(t=>console.log(i.id+": "+t))),"fields"===i.type&&i.fields.forEach(o=>{const c=i.id+"."+o.id;n[c]=X(o.attributes&&o.attributes.value||""),n[c].subscribe(e(i,c)),t.debug&&t.debug.logUpdates&&n[c].subscribe(t=>console.log(c+": "+t))}),n),{}),Y[Z]=t.debug||{},Y.getValues=function(t){return t.reduce((t,e)=>{if("select"===e.type){const n=s(Y[e.id]),i=e.values.find(t=>t.value===n);t[e.title]=i.text||i.value}return"fields"===e.type&&(t[e.title]={},e.fields.forEach(n=>{t[e.title][n.title]=s(Y[e.id+"."+n.id])})),t},{})}}(o,c),u=function(){l(),r("init")},I().$$.on_mount.push(u),t.$set=t=>{"config"in t&&n(0,o=t.config)},n(2,d=[]),[o,i,d,function(t){o.onSubmit&&(t.preventDefault(),this.checkValidity()?o.onSubmit(Y.getValues(d)):this.reportValidity())},c,l,r,function(t){M[t?"unshift":"push"](()=>{n(1,i=t)})}]}class At extends R{constructor(t){super(),Q(this,t,qt,Vt,l,{config:0})}}const Dt=["fields","select","image"];function Ct(t,e,n){if(!Dt.includes(t.type))throw new Error("Only expected blocks must be present. Unexpected block has type "+t.type);if(!t.id)throw new Error("All blocks must have ids. Block with index "+e+" dont has it");if("string"!=typeof t.id)throw new Error("Block id must be a string");if(t.id.indexOf(".")>=0)throw new Error("Block id must not include dot (.)");try{Pt(t,e,n)}catch(t){throw new Error("Blocks ids must be unique. Not unique id: "+t.message)}if("fields"===t.type)try{t.fields.forEach(Pt)}catch(t){throw new Error("Fields ids must be unique. Not unique id: "+t.message)}}function Pt(t,e,n){if(n.slice(e+1).some(({id:e})=>e===t.id))throw new Error(t.id)}window.konstruct={render(t,e){const n=document.querySelector(t);if(!n)throw new Error(`Element ${t} not present in DOM`);!function(t){t.blocks.forEach(Ct)}(e),new At({target:n,props:{config:e}})}}}();
//# sourceMappingURL=bundle.js.map
