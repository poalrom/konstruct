!function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(n)}function c(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function s(t){let e;return r(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(r(e,n))}function f(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function m(){return h(" ")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:n[o]&&n[o].set?t[o]=e[o]:b(t,o,e[o])}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e,n){t.classList[n?"add":"remove"](e)}let x;function w(t){x=t}const E=[],_=[],I=[],B=[],S=Promise.resolve();let O=!1;function F(t){I.push(t)}function N(){const t=new Set;do{for(;E.length;){const t=E.shift();w(t),q(t.$$)}for(;_.length;)_.pop()();for(let e=0;e<I.length;e+=1){const n=I[e];t.has(n)||(n(),t.add(n))}I.length=0}while(E.length);for(;B.length;)B.pop()();O=!1}function q(t){null!==t.fragment&&(t.update(),l(t.before_update),t.fragment&&t.fragment.p(t.ctx,t.dirty),t.dirty=[-1],t.after_update.forEach(F))}const A=new Set;let T;function C(){T={r:0,c:[],p:T}}function D(){T.r||l(T.c),T=T.p}function V(t,e){t&&t.i&&(A.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),T.c.push(()=>{A.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function L(t){t&&t.c()}function P(t,e,o){const{fragment:i,on_mount:r,on_destroy:s,after_update:u}=t.$$;i&&i.m(e,o),F(()=>{const e=r.map(n).filter(c);s?s.push(...e):l(e),t.$$.on_mount=[]}),u.forEach(F)}function M(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(E.push(t),O||(O=!0,S.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,n,c,i,r,s,u=[-1]){const f=x;w(e);const d=n.props||{},a=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:u};let p=!1;a.ctx=c?c(e,d,(t,n,o=n)=>(a.ctx&&r(a.ctx[t],a.ctx[t]=o)&&(a.bound[t]&&a.bound[t](o),p&&U(e,t)),n)):[],a.update(),p=!0,l(a.before_update),a.fragment=!!i&&i(a.ctx),n.target&&(n.hydrate?a.fragment&&a.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):a.fragment&&a.fragment.c(),n.intro&&V(e.$$.fragment),P(e,n.target,n.anchor),N()),w(f)}class z{$destroy(){M(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const G=[];function J(e,n=t){let o;const l=[];function c(t){if(i(e,t)&&(e=t,o)){const t=!G.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),G.push(n,e)}if(t){for(let t=0;t<G.length;t+=2)G[t][0](G[t+1]);G.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(i,r=t){const s=[i,r];return l.push(s),1===l.length&&(o=n(c)||t),i(e),()=>{const t=l.indexOf(s);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}let K;const Q=Symbol("debug");function R(e){let n,o,l,c,i=(e[0].text||e[0].value)+"";return{c(){n=g("div"),o=h(i),b(n,"class","Select-Value"),b(n,"data-value",l=e[0].value),k(n,"active",e[1]),c=$(n,"click",e[3](e[0].value))},m(t,e){d(t,n,e),f(n,o)},p(t,[e]){1&e&&i!==(i=(t[0].text||t[0].value)+"")&&y(o,i),1&e&&l!==(l=t[0].value)&&b(n,"data-value",l),2&e&&k(n,"active",t[1])},i:t,o:t,d(t){t&&a(n),c()}}}function W(t,e,n){let o,{id:l}=e,{value:c}=e;const i=K[l];let r;return u(t,i,t=>n(5,o=t)),t.$set=t=>{"id"in t&&n(4,l=t.id),"value"in t&&n(0,c=t.value)},t.$$.update=()=>{33&t.$$.dirty&&n(1,r=o===c.value)},[c,r,i,function(t){return()=>i.set(t)},l]}class X extends z{constructor(t){super(),H(this,t,W,R,i,{id:4,value:0})}}function Y(t,e,n){const o=t.slice();return o[4]=e[n],o}function Z(t){let e;const n=new X({props:{value:t[4],id:t[0].id}});return{c(){L(n.$$.fragment)},m(t,o){P(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.value=t[4]),1&e&&(o.id=t[0].id),n.$set(o)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function tt(t){let e,n,o;return{c(){e=g("img"),e.src!==(n=nt(t[1].img))&&b(e,"src",n),b(e,"class","Select-Image"),b(e,"alt",o=t[1].text||t[1].value)},m(t,n){d(t,e,n)},p(t,l){2&l&&e.src!==(n=nt(t[1].img))&&b(e,"src",n),2&l&&o!==(o=t[1].text||t[1].value)&&b(e,"alt",o)},d(t){t&&a(e)}}}function et(t){let e,n,o,l,c,i,r,s,u,$,v,k,x=t[0].title+"",w=t[0].description+"",E=t[0].values,_=[];for(let e=0;e<E.length;e+=1)_[e]=Z(Y(t,E,e));const I=t=>j(_[t],1,1,()=>{_[t]=null});let B=t[1]&&t[1].img&&tt(t);return{c(){e=g("div"),n=g("h2"),o=h(x),l=m(),c=g("p"),i=h(w),r=m(),s=g("input"),$=m();for(let t=0;t<_.length;t+=1)_[t].c();v=m(),B&&B.c(),b(n,"class","Select-Title"),b(c,"class","Select-Description"),b(s,"type","hidden"),s.value=t[2],b(s,"name",u=t[0].title),b(e,"class","Select")},m(t,u){d(t,e,u),f(e,n),f(n,o),f(e,l),f(e,c),f(c,i),f(e,r),f(e,s),f(e,$);for(let t=0;t<_.length;t+=1)_[t].m(e,null);f(e,v),B&&B.m(e,null),k=!0},p(t,[n]){if((!k||1&n)&&x!==(x=t[0].title+"")&&y(o,x),(!k||1&n)&&w!==(w=t[0].description+"")&&y(i,w),(!k||4&n)&&(s.value=t[2]),(!k||1&n&&u!==(u=t[0].title))&&b(s,"name",u),1&n){let o;for(E=t[0].values,o=0;o<E.length;o+=1){const l=Y(t,E,o);_[o]?(_[o].p(l,n),V(_[o],1)):(_[o]=Z(l),_[o].c(),V(_[o],1),_[o].m(e,v))}for(C(),o=E.length;o<_.length;o+=1)I(o);D()}t[1]&&t[1].img?B?B.p(t,n):(B=tt(t),B.c(),B.m(e,null)):B&&(B.d(1),B=null)},i(t){if(!k){for(let t=0;t<E.length;t+=1)V(_[t]);k=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)j(_[t]);k=!1},d(t){t&&a(e),p(_,t),B&&B.d()}}}function nt(t){const e=K?t.split(/[{}]/).map((t,e)=>e%2&&K[t]?s(K[t]):t).join(""):t;return K[Q].placeholdImages?"https://via.placeholder.com/350x200?text="+e:e}function ot(t,e,n){let o,{block:l}=e;const c=K[l.id];let i;return u(t,c,t=>n(2,o=t)),t.$set=t=>{"block"in t&&n(0,l=t.block)},t.$$.update=()=>{5&t.$$.dirty&&n(1,i=l.values.find(t=>t.value===o))},[l,i,o,c]}class lt extends z{constructor(t){super(),H(this,t,ot,et,i,{block:0})}}function ct(n){let o,l,c,i,r,s,u=n[0].title+"",p=[n[0].attributes,{class:"Fields-InputField"},{name:n[2]},{value:n[1]}],k={};for(let t=0;t<p.length;t+=1)k=e(k,p[t]);return{c(){o=g("div"),l=g("label"),c=h(u),i=m(),r=g("input"),b(l,"for","name"),b(l,"class","Fields-InputLabel"),v(r,k),b(o,"class","Fields-Input"),s=$(r,"input",n[3])},m(t,e){d(t,o,e),f(o,l),f(l,c),f(o,i),f(o,r)},p(t,[e]){1&e&&u!==(u=t[0].title+"")&&y(c,u),v(r,function(t,e){const n={},o={},l={$$scope:1};let c=t.length;for(;c--;){const i=t[c],r=e[c];if(r){for(const t in i)t in r||(o[t]=1);for(const t in r)l[t]||(n[t]=r[t],l[t]=1);t[c]=r}else for(const t in i)l[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(p,[1&e&&t[0].attributes,{class:"Fields-InputField"},4&e&&{name:t[2]},2&e&&{value:t[1]}]))},i:t,o:t,d(t){t&&a(o),s()}}}function it(t,e,n){let o,{blockId:l}=e,{field:c}=e;const i=`${l}-${c.id}`,r=K[l+"."+c.id];return u(t,r,t=>n(1,o=t)),t.$set=t=>{"blockId"in t&&n(4,l=t.blockId),"field"in t&&n(0,c=t.field)},[c,o,i,function(t){r.set(t.target.value)},l]}class rt extends z{constructor(t){super(),H(this,t,it,ct,i,{blockId:4,field:0})}}function st(t,e,n){const o=t.slice();return o[1]=e[n],o}function ut(t){let e;const n=new rt({props:{blockId:t[0].id,field:t[1]}});return{c(){L(n.$$.fragment)},m(t,o){P(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.blockId=t[0].id),1&e&&(o.field=t[1]),n.$set(o)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function ft(t){let e,n,o,l,c,i,r,s,u=t[0].title+"",$=t[0].description+"",v=t[0].fields,k=[];for(let e=0;e<v.length;e+=1)k[e]=ut(st(t,v,e));const x=t=>j(k[t],1,1,()=>{k[t]=null});return{c(){e=g("div"),n=g("h2"),o=h(u),l=m(),c=g("p"),i=h($),r=m();for(let t=0;t<k.length;t+=1)k[t].c();b(n,"class","Contacts-Header"),b(c,"class","Contacts-Description"),b(e,"class","Contacts")},m(t,u){d(t,e,u),f(e,n),f(n,o),f(e,l),f(e,c),f(c,i),f(e,r);for(let t=0;t<k.length;t+=1)k[t].m(e,null);s=!0},p(t,[n]){if((!s||1&n)&&u!==(u=t[0].title+"")&&y(o,u),(!s||1&n)&&$!==($=t[0].description+"")&&y(i,$),1&n){let o;for(v=t[0].fields,o=0;o<v.length;o+=1){const l=st(t,v,o);k[o]?(k[o].p(l,n),V(k[o],1)):(k[o]=ut(l),k[o].c(),V(k[o],1),k[o].m(e,null))}for(C(),o=v.length;o<k.length;o+=1)x(o);D()}},i(t){if(!s){for(let t=0;t<v.length;t+=1)V(k[t]);s=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)j(k[t]);s=!1},d(t){t&&a(e),p(k,t)}}}function dt(t,e,n){let{block:o}=e;return t.$set=t=>{"block"in t&&n(0,o=t.block)},[o]}class at extends z{constructor(t){super(),H(this,t,dt,ft,i,{block:0})}}function pt(t,e,n){const o=t.slice();return o[4]=e[n],o}function gt(t){let e;const n=new lt({props:{block:t[4]}});return{c(){L(n.$$.fragment)},m(t,o){P(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.block=t[4]),n.$set(o)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function ht(t){let e;const n=new at({props:{block:t[4]}});return{c(){L(n.$$.fragment)},m(t,o){P(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.block=t[4]),n.$set(o)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function mt(t){let e,n,o,l="select"===t[4].type&&gt(t),c="fields"===t[4].type&&ht(t);return{c(){l&&l.c(),e=m(),c&&c.c(),n=h("")},m(t,i){l&&l.m(t,i),d(t,e,i),c&&c.m(t,i),d(t,n,i),o=!0},p(t,o){"select"===t[4].type?l?(l.p(t,o),V(l,1)):(l=gt(t),l.c(),V(l,1),l.m(e.parentNode,e)):l&&(C(),j(l,1,1,()=>{l=null}),D()),"fields"===t[4].type?c?(c.p(t,o),V(c,1)):(c=ht(t),c.c(),V(c,1),c.m(n.parentNode,n)):c&&(C(),j(c,1,1,()=>{c=null}),D())},i(t){o||(V(l),V(c),o=!0)},o(t){j(l),j(c),o=!1},d(t){l&&l.d(t),t&&a(e),c&&c.d(t),t&&a(n)}}}function $t(t){let e,n,o,l,c,i,r,s=(t[0].saveButtonText||"")+"",u=t[1],v=[];for(let e=0;e<u.length;e+=1)v[e]=mt(pt(t,u,e));const k=t=>j(v[t],1,1,()=>{v[t]=null});return{c(){e=g("form");for(let t=0;t<v.length;t+=1)v[t].c();n=m(),o=g("button"),l=h(s),b(o,"type","submit"),b(o,"class","SubmitButton"),b(e,"action",c=t[0].action),b(e,"method","POST"),r=$(e,"submit",t[2])},m(t,c){d(t,e,c);for(let t=0;t<v.length;t+=1)v[t].m(e,null);f(e,n),f(e,o),f(o,l),i=!0},p(t,[o]){if(2&o){let l;for(u=t[1],l=0;l<u.length;l+=1){const c=pt(t,u,l);v[l]?(v[l].p(c,o),V(v[l],1)):(v[l]=mt(c),v[l].c(),V(v[l],1),v[l].m(e,n))}for(C(),l=u.length;l<v.length;l+=1)k(l);D()}(!i||1&o)&&s!==(s=(t[0].saveButtonText||"")+"")&&y(l,s),(!i||1&o&&c!==(c=t[0].action))&&b(e,"action",c)},i(t){if(!i){for(let t=0;t<u.length;t+=1)V(v[t]);i=!0}},o(t){v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)j(v[t]);i=!1},d(t){t&&a(e),p(v,t),r()}}}function bt(t,e,n){let{config:o}=e;!function(t,e){K=t.blocks.reduce((n,o)=>("select"===o.type&&(n[o.id]=J(o.values[0].value),n[o.id].subscribe(e)),"fields"===o.type&&o.fields.forEach(l=>{const c=o.id+"."+l.id;n[c]=J(""),n[c].subscribe(e),t.debug&&t.debug.logUpdates&&n[c].subscribe(t=>console.log(c+": "+t))}),n),{}),K[Q]=t.debug||{},K.getValues=function(t){return t.reduce((t,e)=>{if("select"===e.type){const n=s(K[e.id]),o=e.values.find(t=>t.value===n);t[e.title]=o.text||o.value}return"fields"===e.type&&(t[e.title]={},e.fields.forEach(n=>{t[e.title][n.title]=s(K[e.id+"."+n.id])})),t},{})}}(o,c);let l=[];function c(){K&&n(1,l=o.blocks.filter(t=>!t.conditions||t.conditions.reduce((t,e)=>s(K[e.id])===e.value&&t,!0)))}return c(),t.$set=t=>{"config"in t&&n(0,o=t.config)},[o,l,function(t){t.preventDefault(),this.checkValidity()?console.log(K.getValues(l)):this.reportValidity()}]}class vt extends z{constructor(t){super(),H(this,t,bt,$t,i,{config:0})}}const yt=["fields","select"];function kt(t,e,n){if(!yt.includes(t.type))throw new Error("Only expected blocks must be present. Unexpected block has type "+t.type);if(!t.id)throw new Error("All blocks must have ids. Block with index "+e+" dont has it");if("string"!=typeof t.id)throw new Error("Block id must be a string");if(t.id.indexOf(".")>=0)throw new Error("Block id must not include dot (.)");try{xt(t,e,n)}catch(t){throw new Error("Blocks ids must be unique. Not unique id: "+t.message)}if("fields"===t.type)try{t.fields.forEach(xt)}catch(t){throw new Error("Fields ids must be unique. Not unique id: "+t.message)}}function xt(t,e,n){if(n.slice(e+1).some(({id:e})=>e===t.id))throw new Error(t.id)}window.konstruct={render(t,e){const n=document.querySelector(t);if(!n)throw new Error(`Element ${t} not present in DOM`);!function(t){t.blocks.forEach(kt)}(e),new vt({target:n,props:{config:e}})}}}();
//# sourceMappingURL=bundle.js.map
